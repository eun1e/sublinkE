import{d as e,av as a,r as s,aA as l,o as t,c as r,m as u,w as o,Z as n,l as m,t as d,$ as c,a2 as p,ay as i,aH as v,cP as f,cQ as _,a0 as x,a1 as g}from"./index.CbUOdihh.js";import{E as w}from"./el-card.BPwIaAci.js";import{E as h,a as y}from"./el-col.Daodr5i6.js";import{E as j}from"./el-image-viewer.CpP0Arw5.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./debounce.-Q7geHoC.js";import"./position.5PrwMZhY.js";const U=V(e({__name:"set",setup(e){const{t:V}=a(),U=s(),$=l();t((async()=>{U.value=await $.getUserInfo()}));const C=s(""),E=s("");function I(e){C.value&&E.value?E.value.length<6?i.error(V("userset.message.xx2")):v.confirm(V("userset.message.xx3"),V("userset.message.title"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{f(C.value.trim(),E.value.trim()).then((()=>{i.success(V("userset.message.xx4")+E.value),window.location.reload()}))})):i.error(V("userset.message.xx1"))}return(e,a)=>{const s=h,l=j,t=_,i=x,v=g,f=y,V=w;return r(),u(V,{style:{margin:"10px"},"w-100":""},{default:o((()=>[n(f,{gutter:20},{default:o((()=>[n(s,{span:18},{default:o((()=>[m("h2",null,d(e.$t("userset.title")),1)])),_:1}),U.value?(r(),u(s,{key:0,span:18},{default:o((()=>[n(t,{value:U.value.username,class:"item"},{default:o((()=>[n(l,{src:U.value.avatar},null,8,["src"])])),_:1},8,["value"])])),_:1})):c("",!0),n(s,{span:18},{default:o((()=>[n(i,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),placeholder:e.$t("userset.newUsername")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(i,{type:"password",modelValue:E.value,"onUpdate:modelValue":a[1]||(a[1]=e=>E.value=e),placeholder:e.$t("userset.newPassword")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(v,{type:"primary",onClick:I},{default:o((()=>[p("修改")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-c9ece3d3"]]);export{U as default};

import{d as e,aw as a,r as s,aA as t,o as l,c as r,l as u,w as o,a0 as n,k as m,t as d,a1 as p,a4 as i,az as c,aH as f,c_ as v,c$ as _,a2 as x,a3 as g}from"./index.DyNlybW8.js";import{E as w}from"./el-card.D2UsDnEW.js";import{E as h}from"./el-row.aHOY9ZVp.js";import{E as j}from"./el-image-viewer.CZiAolmi.js";import{E as y}from"./el-col.BfO0lVgM.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.Bc0TZ_L_.js";import"./debounce.CCjn2xK-.js";import"./position.CtLx0TDT.js";const E=V(e({__name:"set",setup(e){const{t:V}=a(),E=s(),U=t();l((async()=>{E.value=await U.getUserInfo()}));const $=s(""),k=s("");function B(e){$.value&&k.value?k.value.length<6?c.error(V("userset.message.xx2")):f.confirm(V("userset.message.xx3"),V("userset.message.title"),{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{v($.value.trim(),k.value.trim()).then((()=>{c.success(V("userset.message.xx4")+k.value),window.location.reload()}))})):c.error(V("userset.message.xx1"))}return(e,a)=>{const s=y,t=j,l=_,c=x,f=g,v=h,V=w;return r(),u(V,{style:{margin:"10px","text-align":"center"}},{default:o((()=>[n(v,{gutter:20},{default:o((()=>[n(s,{span:18},{default:o((()=>[m("h2",null,d(e.$t("userset.title")),1)])),_:1}),E.value?(r(),u(s,{key:0,span:18},{default:o((()=>[n(l,{value:E.value.username,class:"item"},{default:o((()=>[n(t,{src:E.value.avatar},null,8,["src"])])),_:1},8,["value"])])),_:1})):p("",!0),n(s,{span:18},{default:o((()=>[n(c,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),placeholder:e.$t("userset.newUsername")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(c,{type:"password",modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value=e),placeholder:e.$t("userset.newPassword")},null,8,["modelValue","placeholder"])])),_:1}),n(s,{span:18},{default:o((()=>[n(f,{type:"primary",onClick:B},{default:o((()=>a[2]||(a[2]=[i("修改")]))),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-38e5adf0"]]);export{E as default};
